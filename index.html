<!DOCTYPE html>
<html>
<!--
  Copyright © Andreas Hölzl
  @author twitter.com/andywoodly
-->
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

    <link rel="stylesheet" href="main.css"/>
    <script type="text/javascript" src="app.js"></script>

    <script type="text/javascript">
        function init() {
            MathCanvas.initCanvas("canvas_div", "canvas");
            MathCanvas.initControls("flap", "overlay");

            document.getElementById('run').onclick = submitClicked;
        }
        function submitClicked() {
            var select = document.getElementById('editor');
            var _seq = function(n) {
                return eval(select.value);
            };
            MathCanvas.setSequence({
                scaling: 3,
                iterations: 1000,
                seq: _seq
            });
        }
        function doNothing() {}
    </script>

</head>

<body onload='init()'>
<!--<body>-->

<div id="main" class="layer">
    <div id="canvas_div">
        <canvas id="canvas"></canvas>
    </div>
</div>
<div id="overlay" class="layer">
    <div id="controls_panel">
        <form action="javascript:doNothing()">
            <div class="field">
                <label for="sequence">Sequence</label>
                <select id="sequence" name="sequence">
                    <option>Math.sin(Math.sqrt(n))</option>
                    <option>(n*n*n)/1002</option>
                    <option>(n*n*n)/1013</option>
                    <option>Math.pow(n,7)/1050</option>
                    <option>Math.pow(n,2)/1234;</option>
                    <option>-0.00339372*n*n</option>
                    <option>-0.306828*n*n</option>
                    <option>1000*Math.pow(n,0.666666)</option>
                </select>
            </div>

            <div class="field">
                <label for="scaling">Scale</label>
                <input type="range" min="0" max="30" value="3" id="scaling"/>
            </div>

            <div class="field">
                <label for="iterations">Iterations</label>
                <input type="range" min="10" max="10000" value="3000" id="iterations"/>
            </div>

            <div class="field">
                <label for="editor">Editor</label>
                <textarea id="editor" placeholder="Math.sin(Math.sqrt(n))"></textarea>
            </div>

            <div class="field">
                <label for="buttons">&nbsp;</label>
                <div id="buttons">
                    <input type="submit" id="run" value="Run"/>
                    <!--<input type="submit" id="save" value="Save"/>-->
                </div>
            </div>
        </form>
    </div>
    <div id="flap_panel">
        <div id="flap">Options</div>
    </div>
</div>

</body>

</html>

